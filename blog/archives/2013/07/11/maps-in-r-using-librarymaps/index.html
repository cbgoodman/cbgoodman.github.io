<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,partials=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1 minimal-ui">

<meta name="description" content="">
<meta name="keywords" content="">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@cbgoodman">
<meta name="twitter:title" content="Maps in R using library(maps) : cgoodman.com">
<meta name="twitter:creator" content="@cbgoodman">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="cgoodman.com">


    <base href="https://www.cgoodman.com/">
    <title> Maps in R using library(maps) </title>
    <link rel="canonical" href="https://www.cgoodman.com/blog/archives/2013/07/11/maps-in-r-using-librarymaps/">
    

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X6T9KJM7FQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-X6T9KJM7FQ');
    </script>

        <link rel="me" href="https://sciences.social/@cbgoodman" />
        <link rel="stylesheet" type="text/css" href="https://www.cgoodman.com/css/kube.css"  />
        <link rel="stylesheet" type="text/css" href="https://www.cgoodman.com/css/demo.css"  />
	      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

        











        
<script type="text/javascript" src="https://use.typekit.com/kpn7wwu.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>


    <link rel="shortcut icon" href="https://www.cgoodman.com/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://www.cgoodman.com/apple-touch-icon.png" />
    
</head>


<body>
<div id="topbar">
<div class="wrapper">
  <header>
  <nav class="navbar">
  <ul>
    <li><strong><a href="https://www.cgoodman.com/">Christopher B. Goodman</a></strong></li>
    
    
    <li><span> <a class="" href="https://www.cgoodman.com/cv">Bio &amp; CV </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/research">Research </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/data">Data </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/teaching">Teaching </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/blog">Blog </a></span>
      
  </ul>
</nav>

  </header>
</div>
</div>

<div class="wrapper">
<div class="units-row">
<div class="unit-20">&nbsp;</div>
<div class="unit-60"><h2><a href="">Maps in R using library(maps)</a></h2></div>
</div>
<div class="units-row">
  <div class="unit-20 dateblock"><h4>July 11, 2013</h4>


    
    &middot; <a class="small" href="https://www.cgoodman.com/categories/r">R</a>
    
    &middot; <a class="small" href="https://www.cgoodman.com/categories/dataviz">dataviz</a>
    
    &middot; <a class="small" href="https://www.cgoodman.com/categories/maps">maps</a>
    


  </div>
<div class="unit-60">

  <p>My last few posts have included a large number of maps to visualize the Census of Governmentsâ€™ organizations data. Rather than using a full fledged GIS program like ArcGIS or QGIS, I made these maps using the statistical and graphics program R. There are a number of reasons for this decision, principally the need to create a large number of similar maps. Writing code to accomplish this task is a lot easier than making a number of identical maps by hand.</p>
<p>There are a number of methods for making maps in R. Rather than fooling with Shape Files, I decided to use <a href="http://cran.r-project.org/web/packages/maps/index.html">library(maps)</a>. This makes mapmaking an easy process. Below is the code I utilized to draw these maps. This code creates the map found below the code (published in Local Governments in the United States, 2007 Edition).</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#268bd2">library</span>(maps)
<span style="color:#268bd2">library</span>(RColorBrewer)

gid <span style="color:#719e07">&lt;-</span> <span style="color:#268bd2">read.table</span>(<span style="color:#2aa198">&#34;county area govs 2007.csv&#34;</span>, header<span style="color:#719e07">=</span><span style="color:#cb4b16">TRUE</span>, sep<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;,&#34;</span>, stringsAsFactors<span style="color:#719e07">=</span><span style="color:#cb4b16">FALSE</span>)
<span style="color:#268bd2">summary</span>(gid)
<span style="color:#268bd2">data</span>(county.fips)
<span style="color:#268bd2">attach</span>(gid)

colors <span style="color:#719e07">&lt;-</span> <span style="color:#268bd2">brewer.pal</span>(<span style="color:#2aa198">5</span>, <span style="color:#2aa198">&#34;PuBu&#34;</span>)

gid<span style="color:#719e07">$</span>colorBuckets <span style="color:#719e07">&lt;-</span> <span style="color:#268bd2">as.numeric</span>(<span style="color:#268bd2">cut</span>(gid<span style="color:#719e07">$</span>total, <span style="color:#268bd2">c</span>(<span style="color:#2aa198">0</span>,<span style="color:#2aa198">25</span>,<span style="color:#2aa198">50</span>, <span style="color:#2aa198">75</span>,<span style="color:#2aa198">100</span>,<span style="color:#2aa198">550</span>)))
leg.txt <span style="color:#719e07">&lt;-</span> <span style="color:#268bd2">c</span>(<span style="color:#2aa198">&#34;1 - 25&#34;</span>, <span style="color:#2aa198">&#34;26 - 50&#34;</span>, <span style="color:#2aa198">&#34;51 - 75&#34;</span>, <span style="color:#2aa198">&#34;76 - 100&#34;</span>, <span style="color:#2aa198">&#34;&amp;gt; 100&#34;</span>)

colormatched <span style="color:#719e07">&lt;-</span> gid<span style="color:#719e07">$</span>colorBuckets <span style="color:#268bd2">[match</span>(county.fips<span style="color:#719e07">$</span>fips, gid<span style="color:#719e07">$</span>co_fips)]

<span style="color:#268bd2">map</span>(<span style="color:#2aa198">&#34;county&#34;</span>, col<span style="color:#719e07">=</span>colors[colormatched], fill<span style="color:#719e07">=</span><span style="color:#cb4b16">TRUE</span>, lty<span style="color:#719e07">=</span><span style="color:#2aa198">0</span>, resolution<span style="color:#719e07">=</span><span style="color:#2aa198">0</span>, projection<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;polyconic&#34;</span>)
<span style="color:#268bd2">map</span>(<span style="color:#2aa198">&#34;state&#34;</span>, col<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;black&#34;</span>, fill<span style="color:#719e07">=</span><span style="color:#cb4b16">FALSE</span>, add<span style="color:#719e07">=</span><span style="color:#cb4b16">TRUE</span>, lty<span style="color:#719e07">=</span><span style="color:#2aa198">1</span>, lwd<span style="color:#719e07">=</span><span style="color:#2aa198">0.2</span>, projection<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;polyconic&#34;</span>)
<span style="color:#268bd2">title</span>(<span style="color:#2aa198">&#34;Total Local Governments, 2007&#34;</span>)
<span style="color:#268bd2">legend</span>(<span style="color:#2aa198">&#34;bottomleft&#34;</span>, leg.txt, bty<span style="color:#719e07">=</span><span style="color:#2aa198">&#34;n&#34;</span>, fill<span style="color:#719e07">=</span>colors)
</code></pre></div><figure><img src="files/misc/total_county1.png"
         alt="Total counties."/><figcaption>
            <p>Total counties.</p>
        </figcaption>
</figure>
<p>This method makes an attractive, print-ready map. It also makes making a number of similar maps dead simple. Enjoy!</p>



  

<ul class="pagination">
   
  
  <li><a href="https://www.cgoodman.com/blog/archives/2015/01/13/property-tax-reliance-in-u.s.-county-areas/">&raquo; <em>Next</em> Property Tax Reliance in U.S. County Areas</a></li>
</ul> 

<meta itemprop="wordCount" content="224">
<meta itemprop="datePublished" content="2013-07-11">
<meta itemprop="url" content="https://www.cgoodman.com/blog/archives/2013/07/11/maps-in-r-using-librarymaps/">



        <a href="https://www.cgoodman.com/categories/">All Categories</a>


  
<div>





<p><a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.cgoodman.com%2fblog%2farchives%2f2013%2f07%2f11%2fmaps-in-r-using-librarymaps%2f" target="_blank" aria-label="Facebook">
  <div class="badge-facebook"><i class="fab fa-facebook-f"></i> &nbsp; Share on Facebook</div>
</a>
</p>
<p>
<a href="https://twitter.com/intent/tweet/?text=Maps%20in%20R%20using%20library%28maps%29; https%3a%2f%2fwww.cgoodman.com%2fblog%2farchives%2f2013%2f07%2f11%2fmaps-in-r-using-librarymaps%2f" target="_blank" aria-label="Twitter">
  <div class="badge-twitter "><i class = "fab fa-twitter"></i>&nbsp; Share on Twitter</div>
</a>
</p>
</div>


</div>

</div>

</div>


<hr class="separator">

<div class="wrapper" style="font-size: 0.9em; line-height: 1.05em;">
  <div class="units-row units-padding">
    <div class="unit-40">
      <h3><a href="https://www.cgoodman.com/cv/">About</a></h3>
      <p>I teach about <a href="http://mpa.niu.edu/">public administration and local government</a> at <a href="http://www.niu.edu">Northern Illinois University</a>. <a href="cv/">Learn more</a>.</p>
    </div>
    <div class="unit-30">
      <h3>Where</h3>
      <ul class="compact fa-ul">
        <li><i class="fa-li fas fa-university" style="color:#03396c;font-size:80%;"></i>Department of Public Administration, Northern Illinois University, IA 204, DeKalb, Illinois 60115.</li>
        <li><i class="fa-li fas fa-envelope" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="mailto:cbgoodman@niu.edu">cgoodman@niu.edu</a></li>
        <li><i class="fa-li fab fa-twitter-square fa-fw" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="http://twitter.com/cbgoodman">@cbgoodman</a> on Twitter.</li>
		<li><i class="fa-li fab fa-mastodon" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a rel="me" href="https://sciences.social/@cbgoodman">@cbgoodman</a> on Mastodon.</li>
        <li><i class="fa-li fab fa-github" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="http://github.com/cbgoodman">On GitHub</a>.</li>
        <li><i class=""></li>
      </ul>
    </div>
<div class="unit-30">
				<h3>Subscribe</h3>
				<p>To receive updates from this site, you can
				subscribe to the <a href="https://www.cgoodman.com/index.xml"><i class="fas fa-rss-square" style="color:#03396c;"></i>&nbsp;RSS feed</a> of all updates to the site in an RSS feed reader</p>
				<h3>Search</h3>
				<a id="searchsite">
					<form method="get" action="https://duckduckgo.com/">
				<input type="search" name="q" maxlength="255" placeholder="Search the site">
			<input type="hidden" name="sites" value="www.cgoodman.com"/>
			   <input type="hidden" name="k7" value="#faf8f8"/>
			   <input type="hidden" name="kj" value="#b33"/>
			   <input type="hidden" name="ky" value="#fafafa"/>
			   <input type="hidden" name="kx" value="b"/>
			   <input type="hidden" name="ko" value="-1"/>
			   <input type="hidden" name="k1" value="-1"/>
			   <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" /></form></a>
			</div>
		</div>
	</div>
</div>


<footer id="footer">
<section class="wrapper small">Powered by <a href="http://gohugo.io">Hugo</a> and <a href="http://imperavi.com/kube/">Kube</a>. &copy; Christopher B. Goodman 2023.
</section>
</footer>

</body>
</html>
