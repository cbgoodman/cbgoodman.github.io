<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,partials=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1 minimal-ui">

<meta name="description" content="">
<meta name="keywords" content="">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@cbgoodman">
<meta name="twitter:title" content="Custom Coefficient Graphs : cgoodman.com">
<meta name="twitter:creator" content="@cbgoodman">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="cgoodman.com">


    <base href="https://www.cgoodman.com/">
    <title> Custom Coefficient Graphs </title>
    <link rel="canonical" href="https://www.cgoodman.com/blog/archives/2019/12/03/custom-coefficient-graphs/">
    

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X6T9KJM7FQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-X6T9KJM7FQ');
    </script>

        <link rel="me" href="https://sciences.social/@cbgoodman" />
        <link rel="stylesheet" type="text/css" href="https://www.cgoodman.com/css/kube.css"  />
        <link rel="stylesheet" type="text/css" href="https://www.cgoodman.com/css/demo.css"  />
	      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

        











        
<script type="text/javascript" src="https://use.typekit.com/kpn7wwu.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>


    <link rel="shortcut icon" href="https://www.cgoodman.com/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://www.cgoodman.com/apple-touch-icon.png" />
    
</head>


<body>
<div id="topbar">
<div class="wrapper">
  <header>
  <nav class="navbar">
  <ul>
    <li><strong><a href="https://www.cgoodman.com/">Christopher B. Goodman</a></strong></li>
    
    
    <li><span> <a class="" href="https://www.cgoodman.com/cv">Bio &amp; CV </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/research">Research </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/data">Data </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/teaching">Teaching </a></span>
      
    <li><span> <a class="" href="https://www.cgoodman.com/blog">Blog </a></span>
      
  </ul>
</nav>

  </header>
</div>
</div>

<div class="wrapper">
<div class="units-row">
<div class="unit-20">&nbsp;</div>
<div class="unit-60"><h2><a href="">Custom Coefficient Graphs</a></h2></div>
</div>
<div class="units-row">
  <div class="unit-20 dateblock"><h4>December 3, 2019</h4>


    
    &middot; <a class="small" href="https://www.cgoodman.com/categories/dataviz">Dataviz</a>
    
    &middot; <a class="small" href="https://www.cgoodman.com/categories/r">R</a>
    


  </div>
<div class="unit-60">

  <p>Recently, I was asked by a reviewer to include a large number of regression results in a manuscript I am revising. In my experience, attempting to display more than a few regression results in tabular format is a fool&rsquo;s errand so I went looking for a more visual means of delivering the content. My attempt at doing this is complicated by the estimation taking place in one piece of software (Stata) and visualization taking place in another ( R ).</p>
<p>This disconnect between estimation and visualization adds an extra step (and could be solved by doing the estimation in R, something I have decided not to do for the time being) and prevents me from using one of the many R packages for coefficient plotting. Therefore, I estimate 4 regressions in Stata (using my preferred <code>reghdfe</code> command) and extract the coefficients, standard errors, and standard deviation (for standardization) of each variable along with the model label. I then move over to R. Borrowing heavily from <a href="https://thomasleeper.com/Rcourse/Tutorials/olscoefplot.html">Thomas Leeper</a> and <a href="https://gist.github.com/andrewheiss/91250f9d23e889b30ccf">Andrew Heiss</a>, I import the data, standardize the coefficients and standard errors, and build the plot (see below).</p>
<script type="application/javascript" src="https://gist.github.com/cbgoodman/e0f399f3e8d691a9907285a406d050ec.js"></script>

<p>The primary issue is the 4 models are highly related so using something like <code>facet_wrap</code> is a bit inappropriate. I want the coefficients stacked. This is easily achieved using the <code>group</code> option in <code>geom_pointrange</code>. A little adjustment is necessary to get the points and ranges to be more visible in what will eventually be a printed figure. The output can be seen below.</p>
<figure><img src="files/misc/popgrow-coeff.png"/>
</figure>
<p>I think this is a very clean way to display a lot of dense information. An added benefit is <code>facet_wrap</code> can be used for subgroup analysis.</p>


  

<ul class="pagination">
  
  <li><a href="https://www.cgoodman.com/blog/archives/2019/10/21/why-your-sprawling-low-density-suburb-may-be-costing-your-local-government-money/">&laquo; <em>Previous</em> Why your sprawling, low-density suburb may be costing your local government money</a></li>  
  
  <li><a href="https://www.cgoodman.com/blog/archives/2020/01/19/how-i-record-lectures/">&raquo; <em>Next</em> How I Record Lectures</a></li>
</ul> 

<meta itemprop="wordCount" content="275">
<meta itemprop="datePublished" content="2019-12-03">
<meta itemprop="url" content="https://www.cgoodman.com/blog/archives/2019/12/03/custom-coefficient-graphs/">



        <a href="https://www.cgoodman.com/categories/">All Categories</a>


  
<div>





<p><a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.cgoodman.com%2fblog%2farchives%2f2019%2f12%2f03%2fcustom-coefficient-graphs%2f" target="_blank" aria-label="Facebook">
  <div class="badge-facebook"><i class="fab fa-facebook-f"></i> &nbsp; Share on Facebook</div>
</a>
</p>
<p>
<a href="https://twitter.com/intent/tweet/?text=Custom%20Coefficient%20Graphs; https%3a%2f%2fwww.cgoodman.com%2fblog%2farchives%2f2019%2f12%2f03%2fcustom-coefficient-graphs%2f" target="_blank" aria-label="Twitter">
  <div class="badge-twitter "><i class = "fab fa-twitter"></i>&nbsp; Share on Twitter</div>
</a>
</p>
</div>


</div>

</div>

</div>


<hr class="separator">

<div class="wrapper" style="font-size: 0.9em; line-height: 1.05em;">
  <div class="units-row units-padding">
    <div class="unit-40">
      <h3><a href="https://www.cgoodman.com/cv/">About</a></h3>
      <p>I teach about <a href="http://mpa.niu.edu/">public administration and local government</a> at <a href="http://www.niu.edu">Northern Illinois University</a>. <a href="cv/">Learn more</a>.</p>
    </div>
    <div class="unit-30">
      <h3>Where</h3>
      <ul class="compact fa-ul">
        <li><i class="fa-li fas fa-university" style="color:#03396c;font-size:80%;"></i>Department of Public Administration, Northern Illinois University, IA 204, DeKalb, Illinois 60115.</li>
        <li><i class="fa-li fas fa-envelope" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="mailto:cbgoodman@niu.edu">cgoodman@niu.edu</a></li>
        <li><i class="fa-li fab fa-twitter-square fa-fw" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="http://twitter.com/cbgoodman">@cbgoodman</a> on Twitter.</li>
		<li><i class="fa-li fab fa-mastodon" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a rel="me" href="https://sciences.social/@cbgoodman">@cbgoodman</a> on Mastodon.</li>
        <li><i class="fa-li fab fa-github" style="color:#03396c;font-size:80%;padding-top:2px;"></i><a href="http://github.com/cbgoodman">On GitHub</a>.</li>
        <li><i class=""></li>
      </ul>
    </div>
<div class="unit-30">
				<h3>Subscribe</h3>
				<p>To receive updates from this site, you can
				subscribe to the <a href="https://www.cgoodman.com/index.xml"><i class="fas fa-rss-square" style="color:#03396c;"></i>&nbsp;RSS feed</a> of all updates to the site in an RSS feed reader</p>
				<h3>Search</h3>
				<a id="searchsite">
					<form method="get" action="https://duckduckgo.com/">
				<input type="search" name="q" maxlength="255" placeholder="Search the site">
			<input type="hidden" name="sites" value="www.cgoodman.com"/>
			   <input type="hidden" name="k7" value="#faf8f8"/>
			   <input type="hidden" name="kj" value="#b33"/>
			   <input type="hidden" name="ky" value="#fafafa"/>
			   <input type="hidden" name="kx" value="b"/>
			   <input type="hidden" name="ko" value="-1"/>
			   <input type="hidden" name="k1" value="-1"/>
			   <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" /></form></a>
			</div>
		</div>
	</div>
</div>


<footer id="footer">
<section class="wrapper small">Powered by <a href="http://gohugo.io">Hugo</a> and <a href="http://imperavi.com/kube/">Kube</a>. &copy; Christopher B. Goodman 2023.
</section>
</footer>

</body>
</html>
